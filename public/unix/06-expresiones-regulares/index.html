<!DOCTYPE html>
<html lang="es-ES">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Source Themes Academic 4.4.0">

  <title>Expresiones regulares | MarcusRB</title>
    


  

  
  
  
  
  
    
    
    
  
  

  <meta name="author" content="Marco Russo">

  
  <meta name="robots" content="index,follow">

  
  
  
    
  
  <meta name="description" content="Un proceso es una instancia de un programa en ejecución. Programas y procesos son entidades distintas.">

  
  <link rel="alternate" hreflang="es-ES" href="https://www.marcusrb.com/unix/06-expresiones-regulares/">

  


  
  
  
  <meta name="theme-color" content="#3f51b5">
  

  
  
  
  
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css" integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.0/css/all.css" integrity="sha384-aOkxzJ5uQz7WBObEZcHvV5JvRW3TUc2rNPA7pe3AwnsUohiw1Vj2Rgx2KSOkF5+h" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.css" integrity="sha256-ygkqlh3CYSUri3LhQxzdcm0n1EQvH2Y+U5S2idbLtxs=" crossorigin="anonymous">

    
    
    
      
    
    
      
      
        
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/github.min.css" crossorigin="anonymous" title="hl-light">
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/dracula.min.css" crossorigin="anonymous" title="hl-dark" disabled>
        
      
    

    

    

  

  
  
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:200,500|Merriweather:200,300|Roboto+Mono:300,400&display=swap">
  

  
  
  
  <link rel="stylesheet" href="/css/academic.min.561c2ba69cc8c6babcfc0393b003a821.css">

  

  
  
  

  
  
    
    
    <script>
      var dataLayer = window.dataLayer = window.dataLayer || [];
      dataLayer.push({
        page:'Expresiones regulares',
        categories:''
      });
    </script>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MPFRNJ');</script>


    
  

  

  <link rel="manifest" href="/index.webmanifest">
  <link rel="icon" type="image/png" href="/img/icon-32.png">
  <link rel="apple-touch-icon" type="image/png" href="/img/icon-192.png">

  <link rel="canonical" href="https://www.marcusrb.com/unix/06-expresiones-regulares/">

  
  
  
  
    
    
  
  
  <meta property="twitter:card" content="summary">
  
  <meta property="twitter:site" content="@rb_marcus">
  <meta property="twitter:creator" content="@rb_marcus">
  
  <meta property="og:site_name" content="MarcusRB | consultor &amp; profesor data analytics • AI • Big Data">
  <meta property="og:url" content="https://www.marcusrb.com/unix/06-expresiones-regulares/">
  <meta property="og:title" content="Expresiones regulares | MarcusRB | consultor &amp; profesor data analytics • AI • Big Data">
  <meta property="og:description" content="Un proceso es una instancia de un programa en ejecución. Programas y procesos son entidades distintas."><meta property="og:image" content="https://www.marcusrb.com/img/icon-192.png">
  <meta property="twitter:image" content="https://www.marcusrb.com/img/icon-192.png"><meta property="og:locale" content="es-ES">
  
    
      <meta property="article:published_time" content="2020-06-24T00:00:00&#43;00:00">
    
    <meta property="article:modified_time" content="2021-01-31T16:11:35&#43;01:00">
  

  


  





</head>

<body id="top" data-spy="scroll" data-offset="70" data-target="#TableOfContents" >

  
  



    <noscript>
      <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MPFRNJ" height="0" width="0" style="display:none;visibility:hidden"></iframe>
    </noscript>

  


  <aside class="search-results" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Buscar</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="Buscar..." autocapitalize="off"
        autocomplete="off" autocorrect="off" spellcheck="false" type="search">
        
      </div>

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>


  
<nav class="navbar navbar-light fixed-top navbar-expand-lg py-0 compensate-for-scrollbar" id="navbar-main">
  <div class="container">

    
    
      <a class="navbar-brand" href="/">MarcusRB</a>
      
      <button type="button" class="navbar-toggler" data-toggle="collapse"
              data-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Barra de navegación">
        <span><i class="fas fa-bars"></i></span>
      </button>
      

    
    <div class="collapse navbar-collapse" id="navbar">

      
      
      <ul class="navbar-nav ml-auto">
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#inicio"><span>Inicio</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="/servicios"><span>Servicios</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#posts"><span>Blog</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="/cursos"><span>Cursos</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="/recursos"><span>Recursos</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#contactos"><span>Contactos</span></a>
        </li>

        
        

      

        

        
        <li class="nav-item">
          <a class="nav-link js-search" href="#"><i class="fas fa-search" aria-hidden="true"></i></a>
        </li>
        

        

        
        <li class="nav-item">
          <a class="nav-link js-dark-toggle" href="#"><i class="fas fa-moon" aria-hidden="true"></i></a>
        </li>
        

      </ul>

    </div>
  </div>
</nav>


  

<div class="container-fluid docs">
  <div class="row flex-xl-nowrap">
    <div class="col-12 col-md-3 col-xl-2 docs-sidebar">
      





<form class="docs-search d-flex align-items-center">
  <button class="btn docs-toggle d-md-none p-0 mr-3" type="button" data-toggle="collapse" data-target="#docs-nav" aria-controls="docs-nav" aria-expanded="false" aria-label="Toggle section navigation">
    <span><i class="fas fa-bars"></i></span>
  </button>

  
  <input name="q" type="search" class="form-control" placeholder="Buscar..." autocomplete="off">
  
</form>

<nav class="collapse docs-links" id="docs-nav">
  
  
  <div class="docs-toc-item">
    <a class="docs-toc-link" href="/tutorial-unix/">Índice UNIX</a>

  </div>
  
  <div class="docs-toc-item">
    <a class="docs-toc-link" href="/unix/01-unix-intro/">Intro a Unix</a>

  </div>
  
  <div class="docs-toc-item">
    <a class="docs-toc-link" href="/unix/02-sistema-ficheros/">Sistema de ficheros</a>

  </div>
  
  <div class="docs-toc-item">
    <a class="docs-toc-link" href="/unix/03-control-procesos/">Control de procesos</a>

  </div>
  
  <div class="docs-toc-item">
    <a class="docs-toc-link" href="/unix/04-flujo-informacion/">Flujo de información</a>

  </div>
  
  <div class="docs-toc-item">
    <a class="docs-toc-link" href="/unix/05-procesamiento-texto/">Procesamiento texto</a>

  </div>
  
  <div class="docs-toc-item active">
    <a class="docs-toc-link" href="/unix/06-expresiones-regulares/">Expresiones regulares</a>

  </div>
  
  <div class="docs-toc-item">
    <a class="docs-toc-link" href="/unix/07-scripts-bash/">Scripts de bash</a>

  </div>
  
  <div class="docs-toc-item">
    <a class="docs-toc-link" href="/unix/08-administrador/">Administrador</a>

  </div>
  
  <div class="docs-toc-item">
    <a class="docs-toc-link" href="/unix/09-administrador-software/">Administrador de software</a>

  </div>
  
  <div class="docs-toc-item">
    <a class="docs-toc-link" href="/unix/10-variables-entorno/">Variables de entorno</a>

  </div>
  
  <div class="docs-toc-item">
    <a class="docs-toc-link" href="/unix/11-administracion-software-2/">Administracion de software 2</a>

  </div>
  
  <div class="docs-toc-item">
    <a class="docs-toc-link" href="/unix/12-redes/">Redes</a>

  </div>
  
  
</nav>

    </div>

    
    <div class="d-none d-xl-block col-xl-2 docs-toc">
      <ul class="nav toc-top">
        <li><a href="#" id="back_to_top" class="docs-toc-title">En esta página</a></li>
      </ul>

      <nav id="TableOfContents">
<ul>
<li><a href="#expresiones-regulares">Expresiones regulares</a>
<ul>
<li><a href="#expresiones-alternativas">Expresiones alternativas</a></li>
<li><a href="#contenedores">Contenedores</a></li>
<li><a href="#cuantificadores">Cuantificadores</a></li>
<li><a href="#puntos-de-anclaje">Puntos de anclaje</a></li>
<li><a href="#sustituciones">Sustituciones</a></li>
<li><a href="#escapes">Escapes</a></li>
<li><a href="#ejercicios">Ejercicios</a></li>
<li><a href="#soluciones">Soluciones</a></li>
<li><a href="#bibliografía">Bibliografía</a></li>
</ul></li>
</ul>
</nav>

      
    </div>
    

    <main class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-5 docs-content" role="main">

      <article class="article" itemscope itemtype="http://schema.org/Article">

        <div class="docs-article-container">
          <h1 itemprop="name">Expresiones regulares</h1>

          <div class="article-style" itemprop="articleBody">
            

<h1 id="expresiones-regulares">Expresiones regulares</h1>

<ul>
<li><a href="https://bioinf.comav.upv.es/courses/unix/expresiones_regulares.html#expresiones-alternativas" target="_blank">Expresiones alternativas</a></li>
<li><a href="https://bioinf.comav.upv.es/courses/unix/expresiones_regulares.html#contenedores" target="_blank">Contenedores</a></li>
<li><a href="https://bioinf.comav.upv.es/courses/unix/expresiones_regulares.html#cuantificadores" target="_blank">Cuantificadores</a></li>
<li><a href="https://bioinf.comav.upv.es/courses/unix/expresiones_regulares.html#puntos-de-anclaje" target="_blank">Puntos de anclaje</a></li>
<li><a href="https://bioinf.comav.upv.es/courses/unix/expresiones_regulares.html#sustituciones" target="_blank">Sustituciones</a></li>
<li><a href="https://bioinf.comav.upv.es/courses/unix/expresiones_regulares.html#escapes" target="_blank">Escapes</a></li>
<li><a href="https://bioinf.comav.upv.es/courses/unix/expresiones_regulares.html#ejercicios" target="_blank">Ejercicios</a></li>
<li><a href="https://bioinf.comav.upv.es/courses/unix/expresiones_regulares.html#soluciones" target="_blank">Soluciones</a></li>
<li><a href="https://bioinf.comav.upv.es/courses/unix/expresiones_regulares.html#bibliografa" target="_blank">Bibliografía</a></li>
</ul>

<p>Las expresiones regulares son un medio para describir patrones de  texto. Imaginemos que no sólo queremos buscar en un texto todas las líneas que  contienen una palabra, como por ejemplo Barcelona, sino que sólo nos  interesan las líneas que <em>empiezan</em> por la palabra Barcelona,  pero no las que contengan la palabra en cualquier otra posición. Describir el patrón “Barcelona” es trivial, tan sólo hay que escribir  “Barcelona”, pero ¿cómo podemos describir “La línea comienza por la  palabra Barcelona”. Las expresiones regulares permiten describir este tipo de patrones de  texto y muchos más por lo que nos serán de una gran utilidad. Además en Unix las expresiones regulares tienen un amplio soporte, tanto en las herramientas de procesamiento de ficheros de texto (<em>grep</em>), o en los editores de texto (<em>vi</em>, <em>emacs</em>) como en los lenguajes de programación (<em>Perl</em>, <em>Python</em>). El único inconveniente de las expresiones regulares es que su sintaxis  no es trivial y que además varía ligeramente entre distintas  herramientas.</p>

<p>En la web hay varios sitios en los que se pueden probar las expresiones regulares, como por ejemplo <a href="https://regex101.com/" target="_blank">regex101</a>.</p>

<p>Las expresiones regulares se evalúan carácter a carácter. Las más básicas son simplemente una lista de letras que forman una texto que debe coincidir exactamente con lo que buscamos. Por ejemplo con la expresión “Human” sólo coincidirá “Human”. Pero por fortuna las expresiones regulares nos permiten hacer búsquedas y substituciones mucho más complejas.</p>

<h2 id="expresiones-alternativas">Expresiones alternativas</h2>

<p>Una expresión u otra. Imaginemos que tenemos un fichero con los <a href="https://bioinf.comav.upv.es/courses/unix/demo_data/origenes.txt" target="_blank">orígenes</a> de los pacientes de un estudio sobre síndrome de Usher. Queremos seleccionar todos los pacientes que vienen de Valencia o Castellón. Podemos hacerlo utilizando la sintaxis para expresiones alternativas:</p>

<pre><code>  ~$ grep -E 'Valencia|Castellón' origenes.txt
  almeria Meliá Valencia sano
  Valencia	Paniagua	Castellón	usher1B
  Castellón	Sogorb	valencia	usher2B
  Granada Bastella Valencia sana
</code></pre>

<p>La barra vertical (|) separa las expresiones alternativas. En este  caso significa que la palabra encontrada puede ser Valencia o Castellón.</p>

<h2 id="contenedores">Contenedores</h2>

<p>En muchas ocasiones nos interesa seleccionar patrones que pueden  tener en una posición varias letras distintas. Por ejemplo podríamos describir el patrón “comienza por Usher y después  tiene un número” o “comienza por usher y después tiene un par de  letras”. Busquemos todas las líneas que tienen la palabra Usher o usher:</p>

<pre><code>  ~$ grep -E --color '[uU]sher' origenes.txt
  Hospital	apellido_paciente	Biobanco	Tipo_Usher
  Barcelona	Castells	Barcelona	Usher2A
  ...
</code></pre>

<p>Al poner las letras entre corchetes indicamos que el carácter que  aparezca en esa posición puede ser cualquiera de los caracteres  indicados. En este caso la expresión coincidente podría ser Usher u usher.</p>

<p>Utilizando esta técnica podemos también indicar rangos de caracteres, como por ejemplo “aquellos con Usher tipo 0,1 ó 2”:</p>

<pre><code>  ~$ grep -E --color '[uU]sher[0-2]' origenes.txt
  Barcelona	Castells	Barcelona	Usher2A
  Mallorca	Pagan	Barcelona	usher1b
  ...
</code></pre>

<p>Existen rangos y tipos de caracteres predefinidos que podemos utilizar como:</p>

<table>
<thead>
<tr>
<th align="center">POSIX</th>
<th align="center">ASCII</th>
<th>Significado</th>
</tr>
</thead>

<tbody>
<tr>
<td align="center">[:alnum:]</td>
<td align="center">[A-Za-z0-9]</td>
<td>Caracteres alfanuméricos (letras y números)</td>
</tr>

<tr>
<td align="center">[:word:]</td>
<td align="center">[A-Za-z0-9_]</td>
<td>Caracteres alfanuméricos y “_”</td>
</tr>

<tr>
<td align="center">[:alpha:]</td>
<td align="center">[A-Za-z]</td>
<td>Caracteres alfabéticos</td>
</tr>

<tr>
<td align="center">[:blank:]</td>
<td align="center">[ \t]</td>
<td>Espacio y tabulador</td>
</tr>

<tr>
<td align="center">[:space:]</td>
<td align="center">[ \t\r\n\v\f]</td>
<td>Espacios</td>
</tr>

<tr>
<td align="center">[:digit:]</td>
<td align="center">[0-9]</td>
<td>Dígitos</td>
</tr>

<tr>
<td align="center">[:lower:]</td>
<td align="center">[a-z]</td>
<td>Letras minúsculas</td>
</tr>

<tr>
<td align="center">[:upper:]</td>
<td align="center">[A-Z]</td>
<td>Letras mayúsculas</td>
</tr>

<tr>
<td align="center">[:punct:]</td>
<td align="center">[][!”#$%&amp;’()*+,./:;&lt;=&gt;?@\^_`{|}~-]</td>
<td>Caracteres de puntuación</td>
</tr>
</tbody>
</table>

<p>Por ejemplo, podríamos seleccionar cualquier dígito o letra:</p>

<pre><code>~$ grep --color -E '[uU]she[[:alpha:]]' origenes.txt
</code></pre>

<p>Si nos da igual que en una posición haya un carácter u otro podemos  utilizar un punto (.). Por ejemplo, seleccionar aquellos individuos con  subtipo A o B:</p>

<pre><code>  ~$ grep --color -E '[Uu]sher.[[:alpha:]]' origenes.txt
  Barcelona	Castells	Barcelona	Usher2A
  Mallorca	Pagan	Barcelona	usher1b
  ...
</code></pre>

<p>Dentro de los contenedores resultan también bastante útiles las negaciones. Podemos, por ejemplo, seleccionar cualquier carácter que no sea un 2 o un 3 añadiendo “^” tras el primer corchete:</p>

<pre><code>  ~$ grep --color -E 'sher[^23]' origenes.txt
  Mallorca	Pagan	Barcelona	usher1b
  madrid	Cardosa	madrid	usher1a
  Valencia	Paniagua	Castellón	usher1B  
</code></pre>

<h2 id="cuantificadores">Cuantificadores</h2>

<p>Además de indicar qué caracteres queremos permitir podemos  seleccionar cuantas veces deben aparecer. Si no añadimos nada que indique lo contrario se asume que el carácter  debe aparecer una vez, pero podríamos pedir que el carácter aparezca un  número distinto de veces:</p>

<ul>
<li>”?”, el carácter aparece ninguna o una vez. “usher1?” coincidiría con “usher” o “usher1”.</li>
<li>”*”, cero,  una o varias veces.</li>
<li>”+”, al menos una vez.</li>
<li>“{4}”, cuatro veces.</li>

<li><p>“{4,10}”, entre 4 y 10 veces</p>

<pre><code>~$ grep --color -E 'sher2.?' origenes.txt
Barcelona	Castells	Barcelona	Usher2A
Albacete	Blanca	Madrid	usher2
Castellón	Sogorb	valencia	usher2B
</code></pre></li>
</ul>

<h2 id="puntos-de-anclaje">Puntos de anclaje</h2>

<p>Además de poder indicar qué y cuántas veces queremos que algo aparezca podemos indicar dónde deseamos que lo haga. Los puntos de anclaje más utilizados son:</p>

<ul>
<li>”^”, inicio de línea</li>
<li>”$”, fin de línea</li>
<li>”&lt;”, principio de palabra</li>
<li>”&gt;”, fin de palabra</li>
<li>“\b”, límite de palabra</li>
</ul>

<p>Líneas que comienzan por B:</p>

<pre><code>  ~$ grep --color -E '^B' origenes.txt
  Barcelona	Castells	Barcelona	Usher2A
</code></pre>

<p>Líneas que terminan por B:</p>

<pre><code>  ~$ grep --color -E 'B$' origenes.txt
  Valencia	Paniagua	Castellón	usher1B
  Castellón	Sogorb	valencia	usher2B  
</code></pre>

<h2 id="sustituciones">Sustituciones</h2>

<p>Las expresiones regulares además de ser útiles para buscar patrones sirven para sustituirlos. Por ejemplo podemos sustituir madrid por Madrid con el siguiente comando:</p>

<pre><code> ~$ sed -r 's/madrid/Madrid/' origenes.txt
 ...
 Albacete	Blanca	Madrid	usher2
 Madrid	Cardosa	madrid	usher1a
 ...
</code></pre>

<p>Ya vimos que si queríamos que la expresión se utilizase más de una vez en cada línea debíamos utilizar el modificador “g”:</p>

<pre><code>  ~$ sed -r 's/madrid/Madrid/g' origenes.txt
  ...
  Albacete	Blanca	Madrid	usher2
  Madrid	Cardosa	Madrid	usher1a
  ...
</code></pre>

<p>Estas sustituciones además de soportar los patrones sencillos soportan todo lo que hemos visto anteriormente. Por ejemplo, podemos eliminar la primera columna del fichero con el comando:</p>

<pre><code>  ~$ sed -r 's/^[[:alnum:]]*\t//' origenes.txt
  apellido_paciente	Biobanco	Tipo_Usher
  Castells	Barcelona	Usher2A
  ...
</code></pre>

<p>Si lo que queremos es guardar el patrón encontrado para utilizarlo en la sustitución debemos utilizar paréntesis. Los paréntesis indican que lo que hay dentro de ellos debe ser recordado para poder utilizado en la substitución. Por ejemplo, podríamos permutar las columnas 1 y 2 del fichero con el comando:</p>

<pre><code>  ~$ sed -r 's/^([[:alnum:]]*)\t([[:alnum:]_]*)/\2\t\1/' origenes.txt
</code></pre>

<h2 id="escapes">Escapes</h2>

<p>Algunos caracteres tienen significados especiales, como ., $, (, ),  [, ], \ o ^ y si se quieren utilizar hay que escaparlos precediéndolos  con .</p>

<p>El campo de las expresiones regulares es muy amplio y esta pequeña  introducción sólo ha pretendido mostrar algunas de las posibilidades de  esta gran herramienta. El mejor modo de aprender a utilizarlas es intentar hacer uso de ellas  en problemas concretos y echar una ojeada a algunos de los libros y  tutoriales que se han escrito sobre ellas.</p>

<h2 id="ejercicios">Ejercicios</h2>

<ol>
<li><p>Buscar las líneas en las que aparece la palabra bash en el archivo /etc/passwd.</p></li>

<li><p>Buscar en el archivo /etc/group todas las líneas que empiezan por <em>m</em>.</p></li>

<li><p>En el fichero anterior imprimir todas las líneas que no empiezan por <em>m</em>.</p></li>

<li><p>¿Cuántos ficheros README hay en los subdirectorios de /usr/share/doc?</p></li>

<li><p>¿Qué ficheros o directorios en /etc continen un número en el nombre?</p></li>
</ol>

<p>Trabajando con el fichero de los <a href="https://bioinf.comav.upv.es/courses/unix/demo_data/origenes.txt" target="_blank">orígenes</a> de los pacientes de Usher resolver las siguientes cuestiones.</p>

<ol>
<li><p>Seleccionar los pacientes enviados por el hospital de Castellón.</p></li>

<li><p>Seleccionar los que vienen del Biobanco de Barcelona.</p></li>

<li><p>Buscar los pacientes que no tienen Usher3.</p></li>

<li><p>En el fichero de pacientes de Usher hay algunas líneas separadas  por espacios y otras por tabuladores, cambiar todos los separadores a  comas.</p></li>
</ol>

<p>Disponemos de un fichero con una <a href="https://bioinf.comav.upv.es/courses/unix/demo_data/caracterizacion_plantas.txt" target="_blank">caracterización morfológica</a> de unas plantas.</p>

<ol>
<li><p>Recuperar aquellas plantas numeradas con 1 o con 3 dígitos.</p></li>

<li><p>Añadir ceros al identificador de las plantas para que tengan todos 3 dígitos.</p></li>

<li><p>Construir un nuevo fichero que incluya solo las filas sin datos faltantes.</p></li>
</ol>

<h2 id="soluciones">Soluciones</h2>

<ol>
<li>Buscar las líneas en las que aparece la palabra bash en el archivo /etc/passwd.</li>
</ol>

<p><code>~$ grep 'bash' /etc/passwd</code></p>

<ol>
<li>Buscar en el archivo /etc/group todas las líneas que empiezan por <em>m</em>.</li>
</ol>

<p><code>~$ grep '^m' /etc/group</code></p>

<ol>
<li>En el fichero anterior imprimir todas las líneas que no empiezan por <em>m</em>.</li>
</ol>

<p><code>~$ grep -v '^m' /etc/group</code></p>

<ol>
<li>¿Cuántos ficheros README hay en los subdirectorios de /usr/share/doc?</li>
</ol>

<p><code>~$ ls -R /usr/share/doc | grep '^README$' | wc -l</code></p>

<ol>
<li>¿Qué ficheros o directorios en /etc continen un número en el nombre?</li>
</ol>

<p><code>~$ ls /etc/ | grep '[0-9]'</code></p>

<ol>
<li>Seleccionar los pacientes enviados por el hospital de Castellón.</li>
</ol>

<p><code>~$ grep --color -E '^[cC]astell[oó]n' origenes.txt</code></p>

<p><code>~$ grep --color -iE '^castell[oó]n' origenes.txt</code></p>

<ol>
<li>Seleccionar los que vienen del Biobanco de Barcelona.</li>
</ol>

<p><code>~$ grep --color -iE '.Barcelona' origenes.txt</code></p>

<ol>
<li>Buscar los pacientes que no tienen Usher3.</li>
</ol>

<p><code>~$ grep --color -iE 'usher[^3]' origenes.txt</code></p>

<ol>
<li>En el fichero de pacientes de Usher hay algunas líneas separadas  por espacios y otras por tabuladores, cambiar todos los separadores a  comas.</li>
</ol>

<p><code>~$ sed -r 's/[[:blank:]]+/,/g' origenes.txt</code></p>

<ol>
<li><p>Recuperar aquellas plantas numeradas con 1 o con 3 dígitos.</p>

<pre><code>  ~$ grep --color -E 't[0-9]{1} |t[0-9]{3} ' caracterizacion_plantas.txt
</code></pre></li>

<li><p>Añadir ceros al identificador de las plantas para que tengan todos 3 dígitos.</p>

<pre><code>  ~$ sed -r 's/t([0-9]{1}) /t00\1 /g' caracterizacion_plantas.txt | sed -r 's/t([0-9]{2}) /t0\1 /g'
</code></pre></li>

<li><p>Construir un nuevo fichero que incluya solo las filas sin datos faltantes.</p>

<pre><code>  ~$ grep -iE 'plant[0-9]* [0-9]+\.?[0-9]* [0-9]+\.?[0-9]* [0-9]+\.?[0-9]*' numbers.txt
</code></pre></li>
</ol>

<p>O con una versión más sencilla:</p>

<pre><code>  ~$ grep --color -iE '^plant[0-9]*( [0-9]\.[0-9]){3}' numbers.txt
</code></pre>

<h2 id="bibliografía">Bibliografía</h2>

<ul>
<li><a href="http://oreilly.com/catalog/9780596528126" target="_blank">Mastering regular expressions</a> por Jeffrey E.F. Friedl.</li>
<li><a href="http://oreilly.com/catalog/9780596520694" target="_blank">Regular Expressions Cookbook</a> por Jan Goyvaerts y Steven Levithan.</li>
<li><a href="http://www.zytrax.com/tech/web/regex.htm" target="_blank">Regular Expressions User Guide</a>.</li>
<li><a href="http://www.regular-expressions.info/tutorial.html" target="_blank">Regular Expression Tutorial</a>.</li>
</ul>

          </div>

          



          
          <div class="article-widget">
            
<div class="post-nav">
  
  
  
  <div class="post-nav-item">
    <div class="meta-nav">Anterior</div>
    <a href="/unix/03-control-procesos/" rel="next">Control de procesos</a>
  </div>
  
  
  
  <div class="post-nav-item">
    <div class="meta-nav">Siguiente</div>
    <a href="/unix/04-flujo-informacion/" rel="prev">Flujo de información</a>
  </div>
  
</div>

          </div>
          
        </div>

        <div class="body-footer">
          <p>Última actualización el Jan 31, 2021</p>

          
<p class="edit-page">
  <a href="https://github.com/gcushen/hugo-academic/edit/master/content/recursos/tutoriales/unix/06-expresiones-regulares.md">
    <i class="fas fa-pen pr-2"></i>Edit this page
  </a>
</p>



          

        </div>

      </article>

      <footer class="site-footer">
  

  <p class="powered-by">
    &copy; 2021 &middot; 

    Powered by the
    <a href="https://sourcethemes.com/academic/" target="_blank" rel="noopener">Academic theme</a> for
    <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a>.

    
  </p>
</footer>


    </main>
  </div>
</div>


      

    
    

    
    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js" integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js" integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.js" integrity="sha256-X5PoE3KU5l+JcX+w09p/wHl9AzK333C4hJ2I9S5mD4M=" crossorigin="anonymous"></script>

      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/8.0.0/mermaid.min.js" integrity="sha256-0w92bcB21IY5+rGI84MGj52jNfHNbXVeQLrZ0CGdjNY=" crossorigin="anonymous" title="mermaid"></script>
      

      
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js" integrity="sha256-aYTdUrn6Ow1DDgh5JTc3aDGnnju48y/1c8s1dgkYPQ8=" crossorigin="anonymous"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/languages/r.min.js"></script>
        
      

      
      
    

    
    

    
    
    <script>hljs.initHighlightingOnLoad();</script>
    

    
    
    <script>
      const search_index_filename = "/index.json";
      const i18n = {
        'placeholder': "Buscar...",
        'results': "resultados encontrados",
        'no_results': "No se encontraron resultados"
      };
      const content_type = {
        'post': "Posts",
        'project': "Proyectos",
        'publication' : "Publicaciones",
        'talk' : "Charlas"
        };
    </script>
    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.1/anchor.min.js" integrity="sha256-pB/deHc9CGfFpJRjC43imB29Rse8tak+5eXqntO94ck=" crossorigin="anonymous"></script>
    <script>
      anchors.add();
    </script>
    

    
    
    <script id="search-hit-fuse-template" type="text/x-template">
      <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
      </div>
    </script>
    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js" integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>
    

    
    

    
    
    <script id="dsq-count-scr" src="https://marcusrb.disqus.com/count.js" async></script>
    

    
    
    
    
    
    
    
    
    
      
    
    
    
    
    <script src="/js/academic.min.4e51017b38c7ebaadd7e25fc9503f88c.js"></script>

    






  

  
<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Citar</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copiar
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Descargar
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

</body>
</html>
